<shared-header></shared-header>
<div class="col-md-12 mrgTop5em">
  <!--  snapmain positionRelt-->

  <div class="col-md-6 animated fadeInLeft" id="profileSection" *ngIf="issideOpen">
    <div class="col-md-11 sideNav">
      <div class="col-sm-12 mrgTop1em">
        <div class="col-sm-12">
          <ul class="list-inline">
            <!--<li>
              <a (click)="getwaitlist()" class="fontSizeLarger" [ngClass]="{'activelist': select_tab =='waitlist'}">WAITLIST</a>
            </li>-->
            <li>
              <a class="fontSizeLarger" [ngClass]="{'activelist': select_tab =='servers'}">SERVERS</a>
            </li>
          </ul>
        </div>
        <div class="col-sm-12" id="TblDiv">
          <div class="mrgTop2em col-sm-12">
            <table class="table">
              <thead>
                <tr>
                  <th class="thWidth40">SERVER</th>
                  <th class="alignCenter thWidth19">TOTAL AVAILBLE</th>
                  <th class="alignCenter thWidth19">TOTAL SEATED</th>
                  <th class="alignCenter thWidth19">CHECKS DROPPED</th>
                  <th></th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let server_data of  this.servers_Data">
                  <td class="sidenavTable">
                    <a class="tfl_server" href="javascript:void(0)">
                      <span><img class="serverimage" src="data:image/JPEG;base64,{{server_data.pic}}" alt="" /></span>
                      <span class="h4Style">{{server_data.HostessName}}</span>
                    </a>
                  </td>
                  <td class="fontSize30 alignCenter">{{server_data.TotalAvailable}}</td>
                  <td class="fontSize30 alignCenter">{{server_data.TotalSeated}}</td>
                  <td class="fontSize30 alignCenter">{{server_data.ChecksDropped}}</td>
                </tr>
              </tbody>
            </table>
          </div>
          <div class="col-sm-12" id="TblDiv1" *ngIf="iswaitlistOpen">
            <table class="table">
              <thead>
                <tr>
                  <th class="width34">GUEST<br />NAME</th>
                  <th class="alignCenter">PARTY<br />SIZE</th>
                  <th class="alignCenter">Booked <br />At</th>
                  <th class="alignCenter">TIME <br />WAIT</th>
                  <th class="alignCenter">TRUFL OFFER/<br />RESERVATION</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let user_list of waitlist">
                  <td class="sidenavTable">{{user_list.UserName}}</td>
                  <td class="fontSize30 alignCenter">{{user_list.PartySize}}</td>
                  <td class="fontSize30 alignCenter">12:34pm</td>
                  <td class="fontSize30 alignCenter">{{user_list.TimeWaited}}</td>
                  <td class="fontSize30 alignCenter">
                    <span *ngIf="user_list.OfferAmount>0">$</span>{{user_list.OfferAmount}}


                  </td>
                </tr>
              </tbody>
            </table>
            <div *ngIf="wailistLoader">
              <img class="width130" src="assets/images/loader.gif" />
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-1">
      <span class="crossIconSeatGuest"><img src="assets/images/cancelWhite.png" (click)="issideOpen=false" /></span>
      <img (click)="issideOpen=false" class="collapsImg" src="assets/images/seataguestSlideimage.png" />
    </div>
  </div>

  <div class="col-md-6 snapmain heightCal" *ngIf="issideOpen">
    <table class="table table-responsive" id="WaitlistTbl">
      <thead>
        <tr id="printrowheader">
          <th class="alignleft" id="one" colspan="3" (click)="sortTruffleList('UserName')">Customer bio<i cla></i></th>
          <th class="alignleft" id="four" (click)="sortTruffleList('PartySize')">PARTY<br /> SIZE</th>
          <th class="alignleft" id="twelve" >Time <br />Added</th>
          <th class="alignleft" id="five" (click)="sortTruffleList('Quoted')">WAIT<br /> QUOTED</th>
          <!--<th class="alignleft" id="six" (click)="sortTruffleList('UserName')">TIME<br /> WAITED</th>-->
          <th class="alignleft" id="seven">TRUFL OFFER/<br /> RESERVATION</th>
          <th class="alignleft" id="eight">ACCEPT<br /> OFFER</th>
          <th class="alignleft" id="nine">NOTIFY</th>
          <th class="alignleft" id="ten">PRINT</th>
          <th class="alignleft" id="eleven">REMOVE</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of truflUser_list | orderBy: {property: column, direction: direction}; let i=index;" id="printrow_{{i}}"
            (click)="watlistUserDetails(item,i);$event.stopPropagation();" [class.tablerowselect]="i == selectedRow"
            [style.opacity]="getOpacity(item)">
          <td colspan="3" class="alignleft">
            <p class="fontsize18">{{item.UserName}}</p>
            <span class="alignleft" id="dimond_{{i}}">
              <span>
                <img alt="" class="imgwidth48" src="assets/images/1.png" *ngIf="item.TruflMember ===1" />
                <img alt="" class="imgwidth48" src="assets/images/2.png" *ngIf="item.TruflMember ===2" />
                <img alt="" class="imgwidth48" src="assets/images/3.png" *ngIf="item.TruflMember ===3" />
                <img alt="" class="imgwidth48" src="assets/images/4.png" *ngIf="item.TruflMember ===4" />
              </span>
            </span>
            <span class="alignleft" id="dimond1_{{i}}">
              <span>
                <img alt="" class="imgwidth48" src="assets/images/5.png" *ngIf="item.RestaurantMember === 5" />
                <img alt="" class="imgwidth48" src="assets/images/6.png" *ngIf="item.RestaurantMember === 6" />
                <img alt="" class="imgwidth48" src="assets/images/7.png" *ngIf="item.RestaurantMember === 7" />
              </span>
            </span>
          </td>
          <!--<td class="alignleft" id="dimond_{{i}}">
      <img alt="" class="imgwidth48" src="assets/images/1.png" *ngIf="item.TruflMember ===1" />
      <img alt="" class="imgwidth48" src="assets/images/2.png" *ngIf="item.TruflMember ===2" />
      <img alt="" class="imgwidth48" src="assets/images/3.png" *ngIf="item.TruflMember ===3" />
      <img alt="" class="imgwidth48" src="assets/images/4.png" *ngIf="item.TruflMember ===4" />
    </td>
    <td class="alignleft" id="dimond1_{{i}}">
      <img alt="" class="imgwidth48" src="assets/images/5.png" *ngIf="item.RestaurantMember === 5" />
      <img alt="" class="imgwidth48" src="assets/images/6.png" *ngIf="item.RestaurantMember === 6" />
      <img alt="" class="imgwidth48" src="assets/images/7.png" *ngIf="item.RestaurantMember === 7" />
    </td>
    <td class="fontsize18">{{item.UserName}}</td>-->
          <td class="nOFontStyle alignleft">{{item.PartySize}}</td>
          <td class="nOFontStyle alignleft">12:45</td>
          <td class="nOFontStyle alignleft">{{item.Quoted}}</td>
          <!--<td class="nOFontStyle alignleft">{{item.TimeWaited}}</td>-->
          <td class="nOFontStyle alignleft">
            <span>
              <span *ngIf="item.OfferAmount>0">$</span>
              <span>{{item.OfferAmount}}</span>
              <a class="offer_stars" *ngIf="item.OfferAmount<=item.suggestedbid -item.increment">
                <img src="assets/images/star_1.png" />
              </a>
              <a class="offer_stars" *ngIf="(item.OfferAmount>item.suggestedbid -item.increment)&&(item.OfferAmount<item.suggestedbid +item.increment)">
                <img src="assets/images/star_1.png" />
                <img src="assets/images/star_1.png" />
              </a>
              <a class="offer_stars" *ngIf="item.OfferAmount>=item.suggestedbid +item.increment">
                <img src="assets/images/star_2.png" />
                <img src="assets/images/star_2.png" />
                <img src="assets/images/star_2.png" />
              </a>
            </span>
          </td>




          <td class="alignleft">
            <a (click)="changeaccepticon(item);$event.stopPropagation();" *ngIf="item.Accept === 1">
              <img alt="" src="assets/images/offer.png" />
            </a>
            <a (click)="acceptoffer(item);$event.stopPropagation();" *ngIf="item.Accept===2">
              <img alt="" src="assets/images/seatGold.png" />
            </a>
          </td>
          <td class="alignleft">
            <a (click)="notify(item);$event.stopPropagation();" *ngIf="item.Notify === 1">
              <img alt="" class="imgWidth25" src="assets/images/BellSmall.png" />
            </a>
            <a (click)="acceptoffer(item);$event.stopPropagation();" *ngIf="item.Notify === 2">
              <img alt="" src="assets/images/seatSmall.png" />
            </a>
          </td>
          <td class="alignleft">
            <a href="javascript:void(0)1" (click)="printrow(item,i);$event.stopPropagation();">
              <img alt="" src="assets/images/Printersmall.png" />
            </a>
          </td>
          <td class="alignleft">
            <a (click)="Remove(item.BookingID,item); $event.stopPropagation();">
              <img alt="" src="assets/images/removeSmall.png" />
            </a>
          </td>
        </tr>
        <tr *ngFor="let item of truflUser_list | orderBy: {property: column, direction: direction}; let i=index;" id="printrow_{{i}}"
            (click)="watlistUserDetails(item,i);$event.stopPropagation();" [class.tablerowselect]="i == selectedRow"
            [style.opacity]="getOpacity(item)">
          <td colspan="3" class="alignleft">
            <p class="fontsize18">{{item.UserName}}</p>
            <span class="alignleft" id="dimond_{{i}}">
              <span>
                <img alt="" class="imgwidth48" src="assets/images/1.png" *ngIf="item.TruflMember ===1" />
                <img alt="" class="imgwidth48" src="assets/images/2.png" *ngIf="item.TruflMember ===2" />
                <img alt="" class="imgwidth48" src="assets/images/3.png" *ngIf="item.TruflMember ===3" />
                <img alt="" class="imgwidth48" src="assets/images/4.png" *ngIf="item.TruflMember ===4" />
              </span>
            </span>
            <span class="alignleft" id="dimond1_{{i}}">
              <span>
                <img alt="" class="imgwidth48" src="assets/images/5.png" *ngIf="item.RestaurantMember === 5" />
                <img alt="" class="imgwidth48" src="assets/images/6.png" *ngIf="item.RestaurantMember === 6" />
                <img alt="" class="imgwidth48" src="assets/images/7.png" *ngIf="item.RestaurantMember === 7" />
              </span>
            </span>
          </td>
          <!--<td class="alignleft" id="dimond_{{i}}">
      <img alt="" class="imgwidth48" src="assets/images/1.png" *ngIf="item.TruflMember ===1" />
      <img alt="" class="imgwidth48" src="assets/images/2.png" *ngIf="item.TruflMember ===2" />
      <img alt="" class="imgwidth48" src="assets/images/3.png" *ngIf="item.TruflMember ===3" />
      <img alt="" class="imgwidth48" src="assets/images/4.png" *ngIf="item.TruflMember ===4" />
    </td>
    <td class="alignleft" id="dimond1_{{i}}">
      <img alt="" class="imgwidth48" src="assets/images/5.png" *ngIf="item.RestaurantMember === 5" />
      <img alt="" class="imgwidth48" src="assets/images/6.png" *ngIf="item.RestaurantMember === 6" />
      <img alt="" class="imgwidth48" src="assets/images/7.png" *ngIf="item.RestaurantMember === 7" />
    </td>
    <td class="fontsize18">{{item.UserName}}</td>-->
          <td class="nOFontStyle alignleft">{{item.PartySize}}</td>
          <td class="nOFontStyle alignleft">12:45</td>
          <td class="nOFontStyle alignleft">{{item.Quoted}}</td>
          <!--<td class="nOFontStyle alignleft">{{item.TimeWaited}}</td>-->
          <td class="nOFontStyle alignleft">
            <span>
              <span *ngIf="item.OfferAmount>0">$</span>
              <span>{{item.OfferAmount}}</span>
              <a class="offer_stars" *ngIf="item.OfferAmount<=item.suggestedbid -item.increment">
                <img src="assets/images/star_1.png" />
              </a>
              <a class="offer_stars" *ngIf="(item.OfferAmount>item.suggestedbid -item.increment)&&(item.OfferAmount<item.suggestedbid +item.increment)">
                <img src="assets/images/star_1.png" />
                <img src="assets/images/star_1.png" />
              </a>
              <a class="offer_stars" *ngIf="item.OfferAmount>=item.suggestedbid +item.increment">
                <img src="assets/images/star_2.png" />
                <img src="assets/images/star_2.png" />
                <img src="assets/images/star_2.png" />
              </a>
            </span>
          </td>




          <td class="alignleft">
            <a (click)="changeaccepticon(item);$event.stopPropagation();" *ngIf="item.Accept === 1">
              <img alt="" src="assets/images/offer.png" />
            </a>
            <a (click)="acceptoffer(item);$event.stopPropagation();" *ngIf="item.Accept===2">
              <img alt="" src="assets/images/seatGold.png" />
            </a>
          </td>
          <td class="alignleft">
            <a (click)="notify(item);$event.stopPropagation();" *ngIf="item.Notify === 1">
              <img alt="" class="imgWidth25" src="assets/images/BellSmall.png" />
            </a>
            <a (click)="acceptoffer(item);$event.stopPropagation();" *ngIf="item.Notify === 2">
              <img alt="" src="assets/images/seatSmall.png" />
            </a>
          </td>
          <td class="alignleft">
            <a href="javascript:void(0)" (click)="printrow(item,i);$event.stopPropagation();">
              <img alt="" src="assets/images/Printersmall.png" />
            </a>
          </td>
          <td class="alignleft">
            <a (click)="Remove(item.BookingID,item); $event.stopPropagation();">
              <img alt="" src="assets/images/removeSmall.png" />
            </a>
          </td>
        </tr>
      </tbody>
    </table>

    <div class="addImgDiv">
      <a class="addImg"><img (click)="navigateToaddGuest()" class="addImgwidth" src="assets/images/bigadd.png" /></a>
    </div>
  </div>

  <div class="col-md-1 guestmaindata" *ngIf="!issideOpen">
    <img (click)="issideOpen=true" class="collapsImgClose" src="assets/images/seataguestSlideimage.png" />
  </div>

  <div class="col-md-11 snapmain right-sec col11Width" *ngIf="!issideOpen">
    <table class="table table-responsive" id="WaitlistTbl">
      <thead>
        <tr id="printrowheader">
          <th class="alignleft" id="one" colspan="3" (click)="sortTruffleList('UserName')">Customer bio<i cla></i></th>
          <th class="alignleft" id="four" (click)="sortTruffleList('PartySize')">PARTY<br /> SIZE</th>
          <th class="alignleft" id="twelve">Time <br />Added</th>
          <th class="alignleft" id="five" (click)="sortTruffleList('Quoted')">WAIT<br /> QUOTED</th>
          <!--<th class="alignleft" id="six" (click)="sortTruffleList('UserName')">TIME<br /> WAITED</th>-->
          <th class="alignleft" id="seven">TRUFL OFFER/<br /> RESERVATION</th>
          <th class="alignleft" id="eight">ACCEPT<br /> OFFER</th>
          <th class="alignleft" id="nine">NOTIFY</th>
          <th class="alignleft" id="ten">PRINT</th>
          <th class="alignleft" id="eleven">REMOVE</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of truflUser_list | orderBy: {property: column, direction: direction}; let i=index;" id="printrow_{{i}}"
            (click)="watlistUserDetails(item,i);$event.stopPropagation();" [class.tablerowselect]="i == selectedRow"
            [style.opacity]="getOpacity(item)">
          <td colspan="3" class="alignleft">
            <p class="fontsize18">{{item.UserName}}</p>
            <span class="alignleft" id="dimond_{{i}}">
              <span>
                <img alt="" class="imgwidth48" src="assets/images/1.png" *ngIf="item.TruflMember ===1" />
                <img alt="" class="imgwidth48" src="assets/images/2.png" *ngIf="item.TruflMember ===2" />
                <img alt="" class="imgwidth48" src="assets/images/3.png" *ngIf="item.TruflMember ===3" />
                <img alt="" class="imgwidth48" src="assets/images/4.png" *ngIf="item.TruflMember ===4" />
              </span>
            </span>
            <span class="alignleft" id="dimond1_{{i}}">
              <span>
                <img alt="" class="imgwidth48" src="assets/images/5.png" *ngIf="item.RestaurantMember === 5" />
                <img alt="" class="imgwidth48" src="assets/images/6.png" *ngIf="item.RestaurantMember === 6" />
                <img alt="" class="imgwidth48" src="assets/images/7.png" *ngIf="item.RestaurantMember === 7" />
              </span>
            </span>
          </td>
          <!--<td class="alignleft" id="dimond_{{i}}">
    <img alt="" class="imgwidth48" src="assets/images/1.png" *ngIf="item.TruflMember ===1" />
    <img alt="" class="imgwidth48" src="assets/images/2.png" *ngIf="item.TruflMember ===2" />
    <img alt="" class="imgwidth48" src="assets/images/3.png" *ngIf="item.TruflMember ===3" />
    <img alt="" class="imgwidth48" src="assets/images/4.png" *ngIf="item.TruflMember ===4" />
  </td>
  <td class="alignleft" id="dimond1_{{i}}">
    <img alt="" class="imgwidth48" src="assets/images/5.png" *ngIf="item.RestaurantMember === 5" />
    <img alt="" class="imgwidth48" src="assets/images/6.png" *ngIf="item.RestaurantMember === 6" />
    <img alt="" class="imgwidth48" src="assets/images/7.png" *ngIf="item.RestaurantMember === 7" />
  </td>
  <td class="fontsize18">{{item.UserName}}</td>-->
          <td class="nOFontStyle alignleft">{{item.PartySize}}</td>
          <td class="nOFontStyle alignleft">12:45</td>
          <td class="nOFontStyle alignleft">{{item.Quoted}}</td>
          <!--<td class="nOFontStyle alignleft">{{item.TimeWaited}}</td>-->
          <td class="nOFontStyle alignleft">
            <span>
              <span *ngIf="item.OfferAmount>0">$</span>
              <span>{{item.OfferAmount}}</span>
              <a class="offer_stars" *ngIf="item.OfferAmount<=item.suggestedbid -item.increment">
                <img src="assets/images/star_1.png" />
              </a>
              <a class="offer_stars" *ngIf="(item.OfferAmount>item.suggestedbid -item.increment)&&(item.OfferAmount<item.suggestedbid +item.increment)">
                <img src="assets/images/star_1.png" />
                <img src="assets/images/star_1.png" />
              </a>
              <a class="offer_stars" *ngIf="item.OfferAmount>=item.suggestedbid +item.increment">
                <img src="assets/images/star_2.png" />
                <img src="assets/images/star_2.png" />
                <img src="assets/images/star_2.png" />
              </a>
            </span>
          </td>


          <td class="alignleft">
            <a (click)="changeaccepticon(item);$event.stopPropagation();" *ngIf="item.Accept === 1">
              <img alt="" src="assets/images/offer.png" />
            </a>
            <a (click)="acceptoffer(item);$event.stopPropagation();" *ngIf="item.Accept===2">
              <img alt="" src="assets/images/seatGold.png" />
            </a>
          </td>
          <td class="alignleft">
            <a (click)="notify(item);$event.stopPropagation();" *ngIf="item.Notify === 1">
              <img alt="" class="imgWidth25" src="assets/images/BellSmall.png" />
            </a>
            <a (click)="acceptoffer(item);$event.stopPropagation();" *ngIf="item.Notify === 2">
              <img alt="" src="assets/images/seatSmall.png" />
            </a>
          </td>
          <td class="alignleft">
            <a href="javascript:void(0)" (click)="printrow(item,i);$event.stopPropagation();">
              <img alt="" src="assets/images/Printersmall.png" />
            </a>
          </td>
          <td class="alignleft">
            <a (click)="Remove(item.BookingID,item); $event.stopPropagation();">
              <img alt="" src="assets/images/removeSmall.png" />
            </a>
          </td>
        </tr>
      </tbody>
    </table>

    <div class="addImgDiv">
      <a class="addImg"><img (click)="navigateToaddGuest()" class="addImgwidth" src="assets/images/bigadd.png" /></a>
    </div>
  </div>

  <!--User Profile  Right Side-->

  <div class="col-md-2 animated fadeInRight" id="profileSection" *ngIf="showProfile">
    <div class="divProfileSection">
      <img src="assets/images/cross.png" class="closeIconStyle" (click)="closeProile()" />
      <div class="slidetopHostess col-md-12">
        <img alt="" src="data:image/JPEG;base64,{{pic}}" />
      </div>
      <div class="col-md-12 mrgBottom10">
        <p class="pUsernm"><label>{{username}}</label></p>
        <div class="userbio">
          <span class="Truflmember">
            <a *ngIf="TruflMember==1">Trufl Member</a>
            <a *ngIf="TruflMember==2">Trufl Club </a>
            <a *ngIf="TruflMember==3">Trufl Premier</a>
            <a *ngIf="TruflMember==4">Black Trufl Member</a>
          </span>
          <span class="Restaurentmember">
            <img alt="" class="imgwidth48" src="assets/images/5.png" *ngIf="RestaurantMember === 5" />
            <img alt="" class="imgwidth48" src="assets/images/6.png" *ngIf="RestaurantMember === 6" />
            <img alt="" class="imgwidth48" src="assets/images/7.png" *ngIf="RestaurantMember === 7" />
          </span>

        </div>
        <p class="pStyles"></p>
        <p class="pStyles"></p>
      </div>
      <div class="col-md-12 clearfix divImgbanner">
        <span class="ImgBorder">
          <button (click)="changeaccepticon(data);$event.stopPropagation();" *ngIf="data.Accept === 1">
            <img alt="" src="assets/images/DollerSmall.png" />
          </button>
          <button (click)="acceptoffer(data);$event.stopPropagation();" *ngIf="data.Accept===2">
            <img alt=""
                 src="assets/images/seatSmall.png" />
          </button>
          <button (click)="notify(data);$event.stopPropagation();" *ngIf="data.Notify === 1">
            <img alt=""
                 class="imgWidth25"
                 src="assets/images/BellSmall.png" />
          </button>
          <button (click)="acceptoffer(data);$event.stopPropagation();" *ngIf="data.Notify === 2">
            <img alt=""
                 src="assets/images/seatSmall.png" />
          </button>
        </span>
        <span class="ImgBorder">
          <a (click)="Remove(bookingid,username); $event.stopPropagation();">
            <img src="assets/images/removeSmall.png" />
          </a>
        </span>
        <span class="ImgBorder"><a (click)="editguest()"><img src="assets/images/editSmall.png" /></a></span>
        <span class="ImgBorder"><a (click)="printrow(data,selectedrowindex)"><img src="assets/images/Printersmall.png" /></a></span>
      </div>

      <div class="col-md-12" id="biodata">
        <div class="slideform">
          <p class="pBioName">This Visit</p>
          <p class="pbioDesc">{{data.ThisVisit}}</p>

          <p class="pBioName">Relationship</p>
          <p class="pbioDesc">{{data.Relationship}}</p>

          <p class="pBioName">Seating Preferences</p>
          <p class="pbioDesc">{{data.SeatingPreferences}}</p>

          <p class="pBioName">Food & Drink Preferences</p>
          <p class="pbioDesc">{{data.FoodAndDrinkPreferences}}</p>
        </div>
      </div>
    </div>
  </div>
  <div class="clearfix"></div>
</div>
<!--custom confirmation box -->
<common-dialog [(visible)]="showDialog">
  <div class="pad1em">{{commonmessage}}</div>
  <div class="btnDiv">
    <button (click)="Ok()" class="btn">Yes</button>
    <button (click)="Cancel()" class="btn">No</button>
  </div>
</common-dialog>

<!--trungetseated component -->
<turnOngetseated></turnOngetseated>



